{"version":3,"file":"index.mjs","sources":["../src/index.ts"],"sourcesContent":["import { ApplauseReporter, TestResultStatus, loadConfig, } from 'applause-reporter-common';\nexport default class ApplauseJestReporter {\n    globalConfig;\n    reporter;\n    constructor(globalConfig, options) {\n        this.globalConfig = globalConfig;\n        const config = loadConfig({\n            properties: options,\n        });\n        this.reporter = new ApplauseReporter(config);\n    }\n    onRunStart() {\n        this.reporter.runnerStart();\n    }\n    async onRunComplete() {\n        await this.reporter.runnerEnd();\n    }\n    onTestCaseStart(_test, _testCaseStartInfo) {\n        this.reporter.startTestCase(_testCaseStartInfo.fullName, _testCaseStartInfo.title, {\n            providerSessionIds: globalThis.driverRegistry.getSessionIdsForTestCase(_testCaseStartInfo.fullName),\n        });\n    }\n    onTestCaseResult(_test, _testCaseResult) {\n        this.reporter.submitTestCaseResult(_testCaseResult.fullName, this.mapStatus(_testCaseResult), {\n            failureReason: _testCaseResult.failureMessages.join(', '),\n            providerSessionGuids: globalThis.driverRegistry.getSessionIdsForTestCase(_testCaseResult.fullName),\n        });\n    }\n    mapStatus(result) {\n        switch (result.status) {\n            case 'passed':\n                return TestResultStatus.PASSED;\n            case 'disabled':\n                return TestResultStatus.SKIPPED;\n            case 'failed':\n                return TestResultStatus.FAILED;\n            case 'skipped':\n                return TestResultStatus.SKIPPED;\n            default:\n                throw new Error('yo, you shouldnt use this for tests that arent in a status auto-api doesnt support');\n        }\n    }\n}\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":";;AACe,MAAM,oBAAoB,CAAC;AAC1C,IAAI,YAAY,CAAC;AACjB,IAAI,QAAQ,CAAC;AACb,IAAI,WAAW,CAAC,YAAY,EAAE,OAAO,EAAE;AACvC,QAAQ,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;AACzC,QAAQ,MAAM,MAAM,GAAG,UAAU,CAAC;AAClC,YAAY,UAAU,EAAE,OAAO;AAC/B,SAAS,CAAC,CAAC;AACX,QAAQ,IAAI,CAAC,QAAQ,GAAG,IAAI,gBAAgB,CAAC,MAAM,CAAC,CAAC;AACrD,KAAK;AACL,IAAI,UAAU,GAAG;AACjB,QAAQ,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;AACpC,KAAK;AACL,IAAI,MAAM,aAAa,GAAG;AAC1B,QAAQ,MAAM,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;AACxC,KAAK;AACL,IAAI,eAAe,CAAC,KAAK,EAAE,kBAAkB,EAAE;AAC/C,QAAQ,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,QAAQ,EAAE,kBAAkB,CAAC,KAAK,EAAE;AAC3F,YAAY,kBAAkB,EAAE,UAAU,CAAC,cAAc,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,QAAQ,CAAC;AAC/G,SAAS,CAAC,CAAC;AACX,KAAK;AACL,IAAI,gBAAgB,CAAC,KAAK,EAAE,eAAe,EAAE;AAC7C,QAAQ,IAAI,CAAC,QAAQ,CAAC,oBAAoB,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,EAAE;AACtG,YAAY,aAAa,EAAE,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC;AACrE,YAAY,oBAAoB,EAAE,UAAU,CAAC,cAAc,CAAC,wBAAwB,CAAC,eAAe,CAAC,QAAQ,CAAC;AAC9G,SAAS,CAAC,CAAC;AACX,KAAK;AACL,IAAI,SAAS,CAAC,MAAM,EAAE;AACtB,QAAQ,QAAQ,MAAM,CAAC,MAAM;AAC7B,YAAY,KAAK,QAAQ;AACzB,gBAAgB,OAAO,gBAAgB,CAAC,MAAM,CAAC;AAC/C,YAAY,KAAK,UAAU;AAC3B,gBAAgB,OAAO,gBAAgB,CAAC,OAAO,CAAC;AAChD,YAAY,KAAK,QAAQ;AACzB,gBAAgB,OAAO,gBAAgB,CAAC,MAAM,CAAC;AAC/C,YAAY,KAAK,SAAS;AAC1B,gBAAgB,OAAO,gBAAgB,CAAC,OAAO,CAAC;AAChD,YAAY;AACZ,gBAAgB,MAAM,IAAI,KAAK,CAAC,oFAAoF,CAAC,CAAC;AACtH,SAAS;AACT,KAAK;AACL;;;;"}